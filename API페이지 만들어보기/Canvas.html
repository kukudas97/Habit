<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
<script
	src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
<script
	src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
<style>
.color-btn{
	width : 30px; height : 30px; border: 0; border-radius: 50%;}
.color-btn[data-color="black"]{background:black;}
.color-btn[data-color="red"]{background:red;}
.color-btn[data-color="green"]{background:green;}
.color-btn[data-color="blue"]{background:blue;}

</style>
</head>
<body>
	<div class="jumbotron text-center" style="margin: auto">
		<h1>4조 API만들기</h1>
		<p>김재홍 김찬수 김태우 도현정 박지영</p>
	</div>

	<nav class="navbar navbar-expand-sm bg-dark navbar-dark">
		<a class="navbar-brand" href="API.html">HOME</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse"
			data-target="#collapsibleNavbar">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="collapsibleNavbar">
			<ul class="navbar-nav">
				<li class="nav-item"><a class="nav-link" href="Canvas.html">Canvas</a></li>
				<li class="nav-item"><a class="nav-link" href="SVG.html">SVG</a></li>
				<li class="nav-item"><a class="nav-link" href="Map.html">Map</a></li>
			</ul>
		</div>
	</nav>
	<div align="center" style="margin: auto">
		<h1>색칠해주세요</h1>
	</div>
	<div align='center' style="margin-top: 5px">
		<canvas id='canvas' width='800' height='800'
			style="border: 1px solid black"></canvas>
	</div>
	<div class='control' align='center'>
		<button class= "color-btn" data-color="black"></button>
		<button class="color-btn" data-color="red"></button>
		<button class="color-btn" data-color="green"></button>
		<button class="color-btn" data-color="blue"></button>
	</div>
	<script>
		var pos = {
			drawable : false,
			x : -1,
			y : -1,
		};
		var canvas = document.getElementById('canvas');
		var ctx = canvas.getContext('2d');
		var rect = canvas.getBoundingClientRect(); // 터치 스크린
		var control = document.querySelector('.control');

		canvas.addEventListener("mousedown", listener);
		canvas.addEventListener("mousemove", listener);
		canvas.addEventListener("mouseup", listener);
		canvas.addEventListener("mouseout", listener);

		/// 터치 스크린
		canvas.addEventListener("touchstart", listener);
		canvas.addEventListener("touchmove", listener);
		canvas.addEventListener("touchend", listener);

		function listener(e) {
			switch (e.type) {
			case "mousedown":
				drawStart(e);
				break;
			case "mousemove":
				if (pos.drawable)
					draw(e);
				break;
			case "mouseout":
			case "mouseup":
				drawEnd();
				break;
			case "touchstart":
				touchStart(e);
				break;
			case "touchmove":
				if (pos.drawable)
					touch(e);
				break;
			case "touchend":
				drawEnd();
				break;
			default:
			}
		}

		function drawStart(e) {
			pos.drawable = true;
			ctx.beginPath();
			pos.x = e.offsetX;
			pos.y = e.offsetY;
			ctx.moveTo(pos.x, pos.y);
		}
		function touchStart(e) {
			pos.drawable = true;
			ctx.beginPath();
			pos.x = e.touches[0].pageX - rect.left
			pos.y = e.touches[0].pageY - rect.top
			ctx.moveTo(pos.x, pos.y);
		}
		function draw(e) {
			ctx.lineTo(e.offsetX, e.offsetY);
			pos.x = e.offsetX;
			pos.y = e.offsetY;
			ctx.stroke();
		}
		function touch(e) {
			ctx.lineTo(e.touches[0].pageX - rect.left, e.touches[0].pageY
					- rect.top);
			pos.x = e.touches[0].pageX - rect.left;
			pos.y = e.touches[0].pageY - rect.top;
			ctx.stroke();
		}
		function drawEnd() {
			pos.drawable = false;
			pos.x = -1;
			pos.y = -1;
		}
	</script>

	<div class="jumbotron text-center" style="margin-bottom: 0">
		<p>감사합니다</p>
	</div>
</body>
</html>
